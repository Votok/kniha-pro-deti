<!DOCTYPE html>
<html lang="{{ site.lang | default('cs') }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{{ title }} | {{ site.name }}</title>
  <meta name="description" content="{{ description | default(site.description) }}">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% getBundleFileUrl 'css' %}">
  {% block extraStyles %}{% endblock %}

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="{{ site.themeColor }}">

  <!-- Canonical & OG -->
  <link rel="canonical" href="{{ site.url }}{{ page.url }}">
  <meta property="og:site_name" content="{{ site.name }}">
  <meta property="og:title" content="{{ title }} | {{ site.name }}">
  <meta property="og:description" content="{{ description | default(site.description) }}">
  <meta property="og:image" content="{{ site.url }}{{ ogImage | default(site.og.image) }}">
  <meta property="og:image:width" content="{{ ogImageWidth | default('900') }}">
  <meta property="og:image:height" content="{{ ogImageHeight | default('900') }}">
  <meta property="og:image:alt" content="{{ ogImageAlt | default(title) }}">
  <meta property="og:url" content="{{ site.url }}{{ page.url }}">
  <meta property="og:type" content="{{ ogType | default('website') }}">
  <meta property="og:locale" content="{{ site.locale }}">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ title }} | {{ site.name }}">
  <meta name="twitter:description" content="{{ description | default(site.description) }}">
  <meta name="twitter:image" content="{{ site.url }}{{ ogImage | default(site.og.image) }}">
  <meta name="twitter:image:alt" content="{{ ogImageAlt | default(title) }}">

  {% block schemaOrg %}{% endblock %}
</head>

<body>
  {# CSS Bundle pattern - include source CSS #}
  {% css %}
  {{ 'src/assets/css/style.css' | readFile | safe }}
  {% endcss %}

  <div class="min-vh-100">
    {% include "components/header.njk" %}

    <main>
      {{ content | safe }}
    </main>

    {% include "components/footer.njk" %}
  </div>

  <!-- Bootstrap 5.3 JS Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
          crossorigin="anonymous"></script>

  <!-- GLightbox JS -->
  <script src="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/js/glightbox.min.js"></script>

  <!-- Custom JS (passthrough copy, no Google Analytics) -->
  <script src="/assets/js/main.js"></script>
  {% block extraScripts %}{% endblock %}
</body>
</html>
