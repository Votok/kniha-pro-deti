{# Schema.org JSON-LD pro detail knihy #}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Book",
  "name": "{{ book.title }}",
  "author": [
    {% for author in book.authors.text %}
    { "@type": "Person", "name": "{{ author }}" }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  "illustrator": [
    {% for illustrator in book.authors.illustrations %}
    { "@type": "Person", "name": "{{ illustrator }}" }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  "datePublished": "{{ book.publishedDate }}",
  "publisher": {
    "@type": "Organization",
    "name": "{{ book.publisher }}"
  },
  "bookFormat": "Hardcover",
  "inLanguage": "cs",
  {% if book.pages %}"numberOfPages": {{ book.pages }},{% endif %}
  "image": "{{ site.url }}{{ book.cover }}"{% if book.isbn %},
  "isbn": "{{ book.isbn }}"{% endif %}
  {% if book.testimonials and book.testimonials.length > 0 %},
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "{% if book.testimonials[0].rating %}{{ book.testimonials[0].rating }}{% else %}5{% endif %}",
    "reviewCount": {{ book.testimonials.length }}
  }
  {% endif %}
}
</script>
